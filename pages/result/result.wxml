<view class="container">
  <view wx:if="{{videoInfo}}" class="result-section">
    <view class="video-info">
      <image wx:if="{{videoInfo.coverImage}}" class="cover-image" src="{{videoInfo.coverImage}}" mode="widthFix"></image>
      <text wx:if="{{videoInfo.title}}" class="video-title">{{videoInfo.title}}</text>
    </view>

    <view class="actions">
      <button class="action-btn play-btn" bindtap="playVideo">播放视频</button>
      <button class="action-btn copy-btn" bindtap="copyLink">复制链接</button>
      <button class="action-btn download-btn" bindtap="downloadVideo" loading="{{isLoading}}">
        {{isLoading ? '下载中...' : '下载视频'}}
      </button>
    </view>

    <view class="video-player" wx:if="{{showPlayer}}">
      <video 
        id="videoPlayer"
        src="{{videoInfo.noWatermarkUrl}}" 
        controls
        autoplay
        show-fullscreen-btn
        show-play-btn
        enable-danmu="{{false}}"
        style="width: 100%; height: 400rpx;"
        binderror="onVideoError"
        bindended="onVideoEnded"
      ></video>
      <button class="close-player" bindtap="closePlayer">关闭播放器</button>
    </view>
  </view>

  <view wx:else class="empty-section">
    <text>暂无视频信息</text>
  </view>

  <button class="back-btn" bindtap="goBack">返回首页</button>
</view>